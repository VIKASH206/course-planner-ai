<div class="p-4 bg-gradient-to-br from-purple-50 to-pink-50 min-h-screen">
  <div class="max-w-7xl mx-auto">
    
    <!-- Header -->
    <div class="mb-4 bg-white p-4 rounded-lg shadow border-l-4 border-purple-600">
      <h1 class="text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-2">
        Welcome back, {{ getCurrentUser()?.firstName || 'raj' }}! ğŸ‘‹
      </h1>
      <p class="text-sm text-gray-600 mb-3">Here's what's happening with your learning journey today.</p>
      <button (click)="refreshDashboard()" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all shadow">
        ğŸ”„ Refresh Data
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading()" class="bg-white p-8 rounded-lg shadow-xl text-center border-2 border-purple-400">
      <div class="text-4xl mb-3 animate-bounce">â³</div>
      <p class="text-xl font-bold text-purple-600">Loading Dashboard...</p>
      <p class="text-gray-600 mt-2 text-sm">Please wait...</p>
    </div>

    <!-- Success State -->
    <div *ngIf="!isLoading()">
      
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
        
        <div class="bg-gradient-to-br from-blue-500 to-blue-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ“š</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">Total Courses</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ dashboardStats().totalCourses }}</p>
          <div class="bg-blue-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-blue-100 text-center">{{ dashboardStats().completedCourses }} completed</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-green-500 to-green-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">âœ…</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">Active Tasks</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ dashboardStats().activeTasks }}</p>
          <div class="bg-green-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-green-100 text-center">{{ dashboardStats().completedTasks }} completed</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-orange-500 to-red-500 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ”¥</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">Study Streak</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ dashboardStats().studyStreakDays }}</p>
          <div class="bg-red-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-red-100 text-center">days in a row</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-purple-500 to-purple-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ†</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">XP Points</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ dashboardStats().xpPoints }}</p>
          <div class="bg-purple-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-purple-100 text-center">Next Level Progress</p>
          </div>
        </div>

      </div>

      <!-- Quick Actions -->
      <div class="mb-4 bg-white p-4 rounded-lg shadow border-t-4 border-purple-500">
        <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
          <span class="text-2xl">âš¡</span>
          Quick Actions
        </h3>
        <p class="text-sm text-gray-600 mb-3">Jump to commonly used features</p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="bg-gradient-to-r from-blue-100 to-blue-200 p-4 rounded-lg hover:from-blue-200 hover:to-blue-300 transform hover:scale-105 transition-all cursor-pointer" [routerLink]="['/browse-courses']">
            <div class="text-3xl mb-2 text-center">ğŸ“</div>
            <h4 class="font-bold text-sm text-gray-800 text-center mb-1">Browse Courses</h4>
            <p class="text-xs text-gray-600 text-center">Explore new courses</p>
          </div>

          <div class="bg-gradient-to-r from-purple-100 to-purple-200 p-4 rounded-lg hover:from-purple-200 hover:to-purple-300 transform hover:scale-105 transition-all cursor-pointer" [routerLink]="['/my-courses']">
            <div class="text-3xl mb-2 text-center">ğŸ“š</div>
            <h4 class="font-bold text-sm text-gray-800 text-center mb-1">My Courses</h4>
            <p class="text-xs text-gray-600 text-center">Continue learning</p>
          </div>

          <div class="bg-gradient-to-r from-pink-100 to-pink-200 p-4 rounded-lg hover:from-pink-200 hover:to-pink-300 transform hover:scale-105 transition-all cursor-pointer" [routerLink]="['/tasks']">
            <div class="text-3xl mb-2 text-center">ğŸ“</div>
            <h4 class="font-bold text-sm text-gray-800 text-center mb-1">View Tasks</h4>
            <p class="text-xs text-gray-600 text-center">Manage your tasks</p>
          </div>

          <div class="bg-gradient-to-r from-purple-100 to-purple-200 p-4 rounded-lg hover:from-purple-200 hover:to-purple-300 transform hover:scale-105 transition-all cursor-pointer" [routerLink]="['/chat']">
            <div class="text-3xl mb-2 text-center">ğŸ’¬</div>
            <h4 class="font-bold text-sm text-gray-800 text-center mb-1">AI Chat</h4>
            <p class="text-xs text-gray-600 text-center">Get AI assistance</p>
          </div>

          <div class="bg-gradient-to-r from-indigo-100 to-indigo-200 p-4 rounded-lg hover:from-indigo-200 hover:to-indigo-300 transform hover:scale-105 transition-all cursor-pointer" [routerLink]="['/analytics']">
            <div class="text-3xl mb-2 text-center">ğŸ“Š</div>
            <h4 class="font-bold text-sm text-gray-800 text-center mb-1">Analytics</h4>
            <p class="text-xs text-gray-600 text-center">View detailed analytics</p>
          </div>
        </div>
      </div>

      <!-- Course Progress & Task Completion -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        
        <div class="bg-white p-4 rounded-lg shadow border-t-4 border-blue-500">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
            <span class="text-2xl">ğŸ“ˆ</span>
            Course Progress
          </h3>
          <p class="text-sm text-gray-600 mb-2">Overall completion rate: {{ completionRate() }}%</p>
          <div class="bg-blue-100 rounded-full h-3 mb-2">
            <div class="bg-gradient-to-r from-blue-500 to-blue-700 h-3 rounded-full transition-all" [style.width.%]="completionRate()"></div>
          </div>
          <div class="text-xs text-gray-500 mb-3">
            {{ dashboardStats().completedCourses }} / {{ dashboardStats().totalCourses }} courses completed
          </div>
        </div>

        <div class="bg-white p-4 rounded-lg shadow border-t-4 border-green-500">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
            <span class="text-2xl">âœ…</span>
            Task Completion
          </h3>
          <p class="text-sm text-gray-600 mb-2">Task completion rate: {{ taskCompletionRate() }}%</p>
          <div class="bg-green-100 rounded-full h-3 mb-2">
            <div class="bg-gradient-to-r from-green-500 to-green-700 h-3 rounded-full transition-all" [style.width.%]="taskCompletionRate()"></div>
          </div>
          <div class="text-xs text-gray-500">
            {{ dashboardStats().completedTasks }} / {{ dashboardStats().completedTasks + dashboardStats().activeTasks }} tasks completed
          </div>
        </div>

      </div>

      <!-- Recent Content -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        
        <!-- Recent Courses -->
        <div class="bg-white p-4 rounded-lg shadow border-t-4 border-purple-500">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
              <span class="text-2xl">ğŸ“š</span>
              Recent Courses
            </h3>
            <button class="text-sm text-purple-600 hover:text-purple-700 font-semibold" [routerLink]="['/courses']">
              View All â†’
            </button>
          </div>

          <div *ngIf="recentCourses().length === 0" class="text-center py-8 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300">
            <div class="text-4xl mb-2">ğŸ“­</div>
            <p class="text-sm text-gray-500">No courses found</p>
            <button class="mt-2 px-4 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700" [routerLink]="['/browse-courses']">
              Browse Courses
            </button>
          </div>
          
          <div class="space-y-2">
            <div *ngFor="let course of recentCourses()" class="p-3 bg-gradient-to-r from-purple-100 to-purple-200 hover:from-purple-200 hover:to-purple-300 rounded-lg transform hover:scale-105 transition-all cursor-pointer">
              
              <!-- Course Image -->
              <div *ngIf="course.thumbnail" class="mb-3 rounded-lg overflow-hidden shadow-md">
                <img [src]="course.thumbnail" [alt]="course.title" class="w-full h-32 object-cover">
              </div>
              
              <h4 class="font-semibold text-sm text-gray-800 mb-1">{{ course.title }}</h4>
              <p class="text-xs text-gray-600 mb-2">{{ course.instructor }}</p>
              
              <div class="flex items-center gap-2 mb-2">
                <span class="px-2 py-1 bg-purple-300 text-purple-800 text-xs rounded-full font-semibold">
                  {{ course.difficulty }}
                </span>
              </div>
              
              <div *ngIf="course.progress !== undefined" class="flex items-center gap-2">
                <div class="flex-1 bg-purple-300 rounded-full h-2">
                  <div class="bg-purple-700 h-2 rounded-full" [style.width.%]="course.progress"></div>
                </div>
                <span class="text-xs text-gray-600 font-semibold">{{ course.progress }}%</span>
              </div>
              
              <div *ngIf="course.progress !== undefined && course.progress < 100" class="mt-2 text-xs text-gray-500 italic">
                ğŸ’¡ Complete topics to reach 100%
              </div>
            </div>
          </div>
        </div>

        <!-- Upcoming Tasks -->
        <div class="bg-white p-4 rounded-lg shadow border-t-4 border-pink-500">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
              <span class="text-2xl">ğŸ“</span>
              Upcoming Tasks
            </h3>
            <button class="text-sm text-pink-600 hover:text-pink-700 font-semibold" [routerLink]="['/tasks']">
              View All â†’
            </button>
          </div>

          <div *ngIf="upcomingTasks().length === 0" class="text-center py-8 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300">
            <div class="text-4xl mb-2">ğŸ“­</div>
            <p class="text-sm text-gray-500">No upcoming tasks</p>
            <button class="mt-2 px-4 py-2 bg-pink-600 text-white text-sm rounded-lg hover:bg-pink-700" [routerLink]="['/tasks']">
              Create Task
            </button>
          </div>
          
          <div class="space-y-2">
            <div *ngFor="let task of upcomingTasks()" class="p-3 bg-gradient-to-r from-pink-100 to-pink-200 hover:from-pink-200 hover:to-pink-300 rounded-lg transform hover:scale-105 transition-all cursor-pointer">
              <h4 class="font-semibold text-sm text-gray-800 mb-1">{{ task.title }}</h4>
              <p *ngIf="task.description" class="text-xs text-gray-600 mb-2">
                {{ task.description }}
              </p>
              
              <div class="flex items-center gap-2 mb-2">
                <span class="px-2 py-1 bg-pink-300 text-pink-800 text-xs rounded-full font-semibold">
                  {{ task.priority }}
                </span>
                <span class="px-2 py-1 bg-pink-200 text-pink-700 text-xs rounded-full">
                  {{ task.status }}
                </span>
              </div>
              
              <div class="text-xs text-gray-500">
                Due: {{ task.dueDate | date:'short' }}
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>
</div>
