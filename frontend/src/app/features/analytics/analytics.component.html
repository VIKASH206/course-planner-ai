<div class="p-4 bg-gradient-to-br from-purple-50 to-pink-50 min-h-screen">
  <div class="max-w-7xl mx-auto">
    
    <!-- Header -->
    <div class="mb-4 bg-white p-4 rounded-lg shadow border-l-4 border-purple-600">
      <h1 class="text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-2">
        ğŸ“Š My Learning Analytics
      </h1>
      <p class="text-sm text-gray-600 mb-3">Track your learning progress</p>
      <button (click)="loadAnalytics()" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all shadow">
        ğŸ”„ Refresh Data
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="bg-white p-8 rounded-lg shadow-xl text-center border-2 border-purple-400">
      <div class="text-4xl mb-3 animate-bounce">â³</div>
      <p class="text-xl font-bold text-purple-600">Loading Analytics...</p>
      <p class="text-gray-600 mt-2 text-sm">Please wait...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="bg-red-50 border-2 border-red-500 p-6 rounded-lg shadow-lg">
      <div class="text-3xl mb-2 text-center">âŒ</div>
      <p class="font-bold text-red-900 text-xl mb-2 text-center">Error Occurred!</p>
      <p class="text-red-700 text-sm mb-4 text-center">{{ error }}</p>
      <div class="text-center">
        <button (click)="loadAnalytics()" class="px-6 py-2 bg-red-600 text-white text-sm font-semibold rounded-lg hover:bg-red-700 transform hover:scale-105 transition-all shadow">
          ğŸ”„ Try Again
        </button>
      </div>
    </div>

    <!-- Success State -->
    <div *ngIf="!loading && !error">
      
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
        
        <div class="bg-gradient-to-br from-blue-500 to-blue-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ“š</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">My Courses</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ userAnalytics?.totalUsers || 0 }}</p>
          <div class="bg-blue-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-blue-100 text-center">Enrolled Courses</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-green-500 to-green-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ¨</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">My Interests</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ interestAnalytics?.totalInterests || 0 }}</p>
          <div class="bg-green-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-green-100 text-center">Active Interests</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-purple-500 to-purple-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ¯</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">My Goals</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ goalAnalytics?.totalGoals || 0 }}</p>
          <div class="bg-purple-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-purple-100 text-center">Active Goals</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-pink-500 to-pink-700 p-4 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all">
          <div class="text-4xl mb-2 text-center">ğŸ¤–</div>
          <h3 class="text-sm font-bold text-white text-center mb-2">AI Recommendations</h3>
          <p class="text-3xl font-bold text-white text-center mb-2">{{ recommendationAnalytics?.totalRecommendationsGenerated || 0 }}</p>
          <div class="bg-pink-800 bg-opacity-50 p-2 rounded">
            <p class="text-xs text-pink-100 text-center">Suggestions</p>
          </div>
        </div>

      </div>

      <!-- Top Lists -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        
        <div class="bg-white p-4 rounded-lg shadow-lg border-t-4 border-purple-500">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
            <span class="text-2xl">ğŸ¨</span>
            My Top Interests
          </h3>
          <div class="space-y-2">
            <div *ngFor="let interest of getTopInterests(); let i = index" 
                 class="flex justify-between items-center p-3 bg-gradient-to-r from-purple-100 to-purple-200 hover:from-purple-200 hover:to-purple-300 rounded-lg transform hover:scale-105 transition-all">
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold text-purple-700 bg-purple-300 w-8 h-8 flex items-center justify-center rounded-full">{{ i + 1 }}</span>
                <span class="font-semibold text-sm text-gray-800">{{ interest.name }}</span>
              </div>
              <span class="font-bold text-lg text-purple-700 bg-purple-300 px-3 py-1 rounded-full">{{ interest.count }}</span>
            </div>
            <div *ngIf="getTopInterests().length === 0" class="text-center py-4 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300">
              <p class="text-sm text-gray-500">ğŸ“­ No interests selected yet</p>
              <p class="text-xs text-gray-400 mt-1">Complete your profile to get started!</p>
            </div>
          </div>
        </div>

        <div class="bg-white p-4 rounded-lg shadow-lg border-t-4 border-pink-500">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
            <span class="text-2xl">ğŸ¯</span>
            My Top Goals
          </h3>
          <div class="space-y-2">
            <div *ngFor="let goal of getTopGoals(); let i = index" 
                 class="flex justify-between items-center p-3 bg-gradient-to-r from-pink-100 to-pink-200 hover:from-pink-200 hover:to-pink-300 rounded-lg transform hover:scale-105 transition-all">
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold text-pink-700 bg-pink-300 w-8 h-8 flex items-center justify-center rounded-full">{{ i + 1 }}</span>
                <span class="font-semibold text-sm text-gray-800">{{ goal.name }}</span>
              </div>
              <span class="font-bold text-lg text-pink-700 bg-pink-300 px-3 py-1 rounded-full">{{ goal.count }}</span>
            </div>
            <div *ngIf="getTopGoals().length === 0" class="text-center py-4 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300">
              <p class="text-sm text-gray-500">ğŸ“­ No goals selected yet</p>
              <p class="text-xs text-gray-400 mt-1">Set your learning goals to track progress!</p>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>
</div>
